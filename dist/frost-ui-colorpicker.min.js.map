{"version":3,"names":["formatPercent","number","Number","toLocaleString","style","parseColor","color","Color","fromString","e","ColorPicker","BaseComponent","constructor","node","options","super","value","$","getValue","this","_node","_options","format","substring","includes","getFormat","defaultColor","_defaultColor","_color","inline","modal","mobileModal","test","navigator","userAgent","horizontal","inputGroup","closest","shift","_inputGroupColor","findOne","keepInvalid","newValue","_getString","setValue","_render","_events","_renderModal","_eventsModal","_values","alpha","brightness","hue","saturation","_updateAttributes","_refresh","_refreshDisabled","setData","_menuNode","input","disable","setAttribute","disabled","dispose","_popper","_modal","Modal","init","removeEvent","_setBtn","remove","_container","_saturation","_saturationGuide","_hue","_hueGuide","_alpha","_alphaColor","_alphaGuide","_preview","_previewColor","enable","removeAttribute","getColor","hide","isConnected","getDataset","triggerOne","setDataset","uiAnimating","focusableNodes","find","tabindex","fadeOut","duration","then","_","detach","removeDataset","triggerEvent","catch","setColor","setAlpha","_setColor","show","_isEditable","appendTo","append","parentModal","after","_activeTarget","Popper","reference","placement","position","fixed","spacing","minContact","fadeIn","toggle","update","defaults","ignoreReadonly","classes","alphaColor","container","containerHorizontal","guide","menu","menuHorizontal","menuInline","menuModal","menuPadding","modalBody","modalBtnContainer","modalBtnPrimary","modalBtnSecondary","modalContent","modalDialog","preview","spacingHorizontal","spacingModal","spacingVertical","lang","cancel","set","proto","prototype","saturationDragEvent","mouseDragFactory","button","focus","pos","getPosition","_updateSaturation","x","y","addEvent","code","Math","min","max","preventDefault","_updateColor","hueDragEvent","_updateHue","alphaDownEvent","alphaMoveEvent","_updateAlpha","alphaDragEvent","skipUpdate","_keepColor","focusIndex","indexOf","target","shiftKey","length","stop","isSame","document","activeElement","stopPropagation","originalColor","toHexString","toRGBString","toHSLString","is","updateInputGroup","saturationColor","fromHSV","setStyle","backgroundColor","top","left","hueOffset","round","direction","background","alphaOffset","newColor","addClass","removeClass","create","class","attributes","role","btnContainer","cancelBtn","text","type","updateAttributes","updateValue","oldColor","oldValue","data","detail","old","new","percent","percentX","offset","percentY","getAlpha","getBrightness","getSaturation","getHue","setBrightness","setSaturation","setHue","initComponent","nodes","getData","colorpicker","hasDescendent","capture","stopped","i","entries"],"sources":["../src/js/helpers.js","../src/js/color-picker.js","../src/js/index.js","../src/js/prototype/events.js","../src/js/prototype/helpers.js","../src/js/prototype/render.js"],"sourcesContent":["import Color from '@fr0st/color';\n\n/**\n * Format a number as a percent string.\n * @param {number} number The number.\n * @return {string} The percent string.\n */\nexport function formatPercent(number) {\n    return Number(number).toLocaleString('en-US', { style: 'percent' });\n};\n\n/**\n * Get the color format from a value.\n * @param {string} value The color value.\n * @return {string|null} The color format.\n */\nexport function getFormat(value) {\n    if (!value) {\n        return null;\n    }\n\n    if (value.substring(0, 1) === '#') {\n        return 'hex';\n    }\n\n    const format = value.substring(0, 3);\n\n    if (['rgb', 'hsl'].includes(format)) {\n        return format;\n    }\n\n    return null;\n};\n\n/**\n * Parse a Color from any value.\n * @param {string|Color} color The color to parse.\n * @return {Color} The parsed Color.\n */\nexport function parseColor(color) {\n    if (!color) {\n        return null;\n    }\n\n    if (color instanceof Color) {\n        return color;\n    }\n\n    try {\n        return Color.fromString(color);\n    } catch (e) {\n        return null;\n    }\n};\n","import Color from '@fr0st/color';\nimport $ from '@fr0st/query';\nimport { BaseComponent, Modal, Popper } from '@fr0st/ui';\nimport { getFormat, parseColor } from './helpers.js';\n\n/**\n * ColorPicker Class\n * @class\n */\nexport default class ColorPicker extends BaseComponent {\n    /**\n     * New ColorPicker constructor.\n     * @param {HTMLElement} node The input node.\n     * @param {object} [options] The options to create the ColorPicker with.\n     */\n    constructor(node, options) {\n        super(node, options);\n\n        const value = $.getValue(this._node);\n\n        if (this._options.format === 'auto') {\n            this._options.format = getFormat(value);\n        }\n\n        if (this._options.defaultColor) {\n            this._defaultColor = parseColor(this._options.defaultColor);\n        }\n\n        if (!this._defaultColor) {\n            this._defaultColor = new Color();\n        }\n\n        this._color = parseColor(value);\n\n        if (this._options.inline) {\n            this._options.modal = false;\n        } else if (!this._options.modal && this._options.mobileModal) {\n            this._options.modal = /Android|webOS|iPhone|iPad|iPod/i.test(navigator.userAgent);\n        }\n\n        if (this._options.modal) {\n            this._options.horizontal = true;\n        }\n\n        const inputGroup = $.closest(this._node, '.input-group').shift();\n        if (inputGroup) {\n            this._inputGroupColor = $.findOne('.input-group-color', inputGroup);\n        }\n\n        if (this._color || (value && !this._options.keepInvalid)) {\n            const newValue = this._getString(this._color);\n            $.setValue(this._node, newValue);\n        }\n\n        this._render();\n        this._events();\n\n        if (this._options.modal) {\n            this._renderModal();\n            this._eventsModal();\n        }\n\n        this._values = {\n            alpha: 1,\n            brightness: 0,\n            hue: 0,\n            saturation: 0,\n        };\n\n        this._updateAttributes();\n        this._refresh();\n        this._refreshDisabled();\n\n        $.setData(this._menuNode, { input: this._node });\n    }\n\n    /**\n     * Disable the ColorPicker.\n     */\n    disable() {\n        $.setAttribute(this._node, { disabled: true });\n        this._refreshDisabled();\n    }\n\n    /**\n     * Dispose the ColorPicker.\n     */\n    dispose() {\n        if (this._popper) {\n            this._popper.dispose();\n            this._popper = null;\n        }\n\n        if (this._modal) {\n            Modal.init(this._modal).dispose();\n\n            $.removeEvent(this._modal, 'show.ui.modal');\n            $.removeEvent(this._modal, 'shown.ui.modal');\n            $.removeEvent(this._modal, 'hide.ui.modal');\n            $.removeEvent(this._modal, 'hidden.ui.modal');\n            $.removeEvent(this._setBtn, 'click.ui.modal');\n\n            this._modal = null;\n            this._setBtn = null;\n        }\n\n        $.removeEvent(this._node, 'change.ui.colorpicker');\n        $.removeEvent(this._node, 'input.ui.colorpicker');\n        $.removeEvent(this._node, 'click.ui.colorpicker');\n        $.removeEvent(this._node, 'focus.ui.colorpicker');\n        $.removeEvent(this._node, 'keydown.ui.colorpicker');\n        $.removeEvent(this._node, 'keyup.ui.colorpicker');\n\n        if (this._inputGroupColor) {\n            $.removeEvent(this._inputGroupColor, 'click.ui.colorpicker');\n        }\n\n        $.remove(this._menuNode);\n\n        this._color = null;\n        this._defaultColor = null;\n        this._inputGroupColor = null;\n        this._menuNode = null;\n        this._container = null;\n        this._saturation = null;\n        this._saturationGuide = null;\n        this._hue = null;\n        this._hueGuide = null;\n        this._alpha = null;\n        this._alphaColor = null;\n        this._alphaGuide = null;\n        this._preview = null;\n        this._previewColor = null;\n        this._values = null;\n\n        super.dispose();\n    }\n\n    /**\n     * Enable the ColorPicker.\n     */\n    enable() {\n        $.removeAttribute(this._node, 'disabled');\n        this._refreshDisabled();\n    }\n\n    /**\n     * Get the current color.\n     * @return {Color|null} The current color.\n     */\n    getColor() {\n        return this._color;\n    }\n\n    /**\n     * Hide the ColorPicker.\n     */\n    hide() {\n        if (this._options.inline) {\n            return;\n        }\n\n        if (this._options.modal) {\n            Modal.init(this._modal).hide();\n            return;\n        }\n\n        if (\n            !$.isConnected(this._menuNode) ||\n            $.getDataset(this._menuNode, 'uiAnimating') ||\n            !$.triggerOne(this._node, 'hide.ui.colorpicker')\n        ) {\n            return;\n        }\n\n        $.setDataset(this._menuNode, { uiAnimating: 'out' });\n\n        const focusableNodes = $.find('[tabindex]', this._menuNode);\n        $.setAttribute(focusableNodes, { tabindex: -1 });\n\n        $.fadeOut(this._menuNode, {\n            duration: this._options.duration,\n        }).then((_) => {\n            this._popper.dispose();\n            this._popper = null;\n\n            $.detach(this._menuNode);\n            $.removeDataset(this._menuNode, 'uiAnimating');\n            $.triggerEvent(this._node, 'hidden.ui.colorpicker');\n        }).catch((_) => {\n            if ($.getDataset(this._menuNode, 'uiAnimating') === 'out') {\n                $.removeDataset(this._menuNode, 'uiAnimating');\n            }\n        });\n    }\n\n    /**\n     * Set the current color.\n     * @param {string|Color|null} color The new color.\n     */\n    setColor(color) {\n        if (color === null) {\n            this._setColor(color);\n            return;\n        }\n\n        color = parseColor(color);\n\n        if (!color) {\n            return;\n        }\n\n        if (!this._options.alpha) {\n            color = color.setAlpha(1);\n        }\n\n        this._setColor(color);\n    }\n\n    /**\n     * Show the ColorPicker.\n     */\n    show() {\n        if (\n            this._options.inline ||\n            $.isConnected(this._menuNode) ||\n            !this._isEditable()\n        ) {\n            return;\n        }\n\n        if (this._options.modal) {\n            if (this._options.appendTo) {\n                $.append(this._options.appendTo, this._modal);\n            } else {\n                const parentModal = $.closest(this._node, '.modal').shift();\n\n                if (parentModal) {\n                    $.after(parentModal, this._modal);\n                } else {\n                    $.after(this._node, this._modal);\n                }\n            }\n\n            const modal = Modal.init(this._modal);\n\n            if (this._activeTarget) {\n                modal._activeTarget = this._activeTarget;\n            }\n\n            modal.show();\n            return;\n        }\n\n        if (\n            $.getDataset(this._menuNode, 'uiAnimating') ||\n            !$.triggerOne(this._node, 'show.ui.colorpicker')\n        ) {\n            return;\n        }\n\n        $.setDataset(this._menuNode, { uiAnimating: 'in' });\n\n        if (this._isEditable()) {\n            const focusableNodes = $.find('[tabindex]', this._menuNode);\n            $.setAttribute(focusableNodes, { tabindex: 0 });\n        }\n\n        if (this._options.appendTo) {\n            $.append(this._options.appendTo, this._menuNode);\n        } else {\n            $.after(this._node, this._menuNode);\n        }\n\n        this._popper = new Popper(\n            this._menuNode,\n            {\n                reference: this._node,\n                placement: this._options.placement,\n                position: this._options.position,\n                fixed: this._options.fixed,\n                spacing: this._options.spacing,\n                minContact: this._options.minContact,\n            },\n        );\n\n        $.fadeIn(this._menuNode, {\n            duration: this._options.duration,\n        }).then((_) => {\n            $.removeDataset(this._menuNode, 'uiAnimating');\n            $.triggerEvent(this._node, 'shown.ui.colorpicker');\n        }).catch((_) => {\n            if ($.getDataset(this._menuNode, 'uiAnimating') === 'in') {\n                $.removeDataset(this._menuNode, 'uiAnimating');\n            }\n        });\n    }\n\n    /**\n     * Toggle the ColorPicker.\n     */\n    toggle() {\n        if ($.isConnected(this._menuNode)) {\n            this.hide();\n        } else {\n            this.show();\n        }\n    }\n\n    /**\n     * Update the ColorPicker position.\n     */\n    update() {\n        if (this._popper) {\n            this._popper.update();\n        }\n    }\n}\n","import $ from '@fr0st/query';\nimport { initComponent } from '@fr0st/ui';\nimport ColorPicker from './color-picker.js';\nimport { parseColor } from './helpers.js';\nimport { _events, _eventsModal } from './prototype/events.js';\nimport { _getString, _isEditable, _refresh, _refreshDisabled, _setColor, _updateAlpha, _updateAttributes, _updateColor, _updateHue, _updateSaturation } from './prototype/helpers.js';\nimport { _render, _renderModal } from './prototype/render.js';\n\n// ColorPicker default options\nColorPicker.defaults = {\n    format: 'auto',\n    defaultColor: null,\n    alpha: true,\n    inline: false,\n    horizontal: false,\n    keepInvalid: false,\n    ignoreReadonly: false,\n    modal: false,\n    mobileModal: true,\n    duration: 100,\n    appendTo: null,\n    placement: 'bottom',\n    position: 'start',\n    fixed: false,\n    spacing: 0,\n    minContact: false,\n};\n\n// ColorPicker classes\nColorPicker.classes = {\n    alpha: 'colorpicker-alpha flex-grow-1',\n    alphaColor: 'colorpicker-alpha-color',\n    container: 'd-flex justify-content-between',\n    containerHorizontal: 'flex-column',\n    disabled: 'colorpicker-disabled',\n    guide: 'colorpicker-guide',\n    hue: 'colorpicker-hue flex-grow-1',\n    menu: 'colorpicker',\n    menuHorizontal: 'colorpicker-horizontal',\n    menuInline: 'colorpicker-inline',\n    menuModal: 'colorpicker-modal',\n    menuPadding: 'p-2',\n    modal: 'modal',\n    modalBody: 'modal-body',\n    modalBtnContainer: 'text-end mt-4',\n    modalBtnPrimary: 'btn btn-primary ripple ms-2',\n    modalBtnSecondary: 'btn btn-secondary ripple ms-2',\n    modalContent: 'modal-content',\n    modalDialog: 'modal-dialog modal-sm',\n    preview: 'colorpicker-bar colorpicker-preview',\n    saturation: 'colorpicker-saturation',\n    spacingHorizontal: 'mt-2',\n    spacingModal: 'mt-3',\n    spacingVertical: 'me-2',\n};\n\n// ColorPicker Lang\nColorPicker.lang = {\n    alpha: 'Alpha',\n    brightness: 'Brightness',\n    cancel: 'Cancel',\n    color: 'Color',\n    hue: 'Hue',\n    saturation: 'Saturation',\n    set: 'Set',\n};\n\n// ColorPicker static\nColorPicker.parseColor = parseColor;\n\n// ColorPicker prototype\nconst proto = ColorPicker.prototype;\n\nproto._events = _events;\nproto._eventsModal = _eventsModal;\nproto._getString = _getString;\nproto._isEditable = _isEditable;\nproto._refresh = _refresh;\nproto._refreshDisabled = _refreshDisabled;\nproto._render = _render;\nproto._renderModal = _renderModal;\nproto._setColor = _setColor;\nproto._updateAlpha = _updateAlpha;\nproto._updateAttributes = _updateAttributes;\nproto._updateColor = _updateColor;\nproto._updateHue = _updateHue;\nproto._updateSaturation = _updateSaturation;\n\n// ColorPicker init\ninitComponent('colorpicker', ColorPicker);\n\n// ColorPicker events\n$.addEvent(document, 'mousedown.ui.colorpicker', (e) => {\n    const nodes = $.find('.colorpicker:not(.colorpicker-inline):not(.colorpicker-modal)');\n\n    for (const node of nodes) {\n        const input = $.getData(node, 'input');\n        const colorpicker = ColorPicker.init(input);\n\n        if (\n            $.isSame(colorpicker._node, e.target) ||\n            $.isSame(colorpicker._menuNode, e.target) ||\n            $.hasDescendent(colorpicker._menuNode, e.target)\n        ) {\n            continue;\n        }\n\n        colorpicker.hide();\n    }\n}, { capture: true });\n\n$.addEvent(document, 'keydown.ui.colorpicker', (e) => {\n    if (e.code !== 'Escape') {\n        return;\n    }\n\n    let stopped = false;\n    const nodes = $.find('.colorpicker:not(.colorpicker-inline):not(.colorpicker-modal)');\n\n    for (const [i, node] of nodes.entries()) {\n        const input = $.getData(node, 'input');\n        const colorpicker = ColorPicker.init(input);\n\n        if (!stopped) {\n            stopped = true;\n            e.stopPropagation();\n        }\n\n        colorpicker.hide();\n\n        if (i == 0) {\n            $.focus(input);\n        }\n    }\n}, { capture: true });\n\nexport default ColorPicker;\n","import $ from '@fr0st/query';\nimport { getPosition } from '@fr0st/ui';\nimport { parseColor } from './../helpers.js';\n\n/**\n * Attach events for the ColorPicker.\n */\nexport function _events() {\n    const saturationDownEvent = (e) => {\n        if (e.button) {\n            return false;\n        }\n\n        $.focus(this._saturationGuide);\n    };\n\n    const saturationMoveEvent = (e) => {\n        const pos = getPosition(e);\n        this._updateSaturation(pos.x, pos.y);\n    };\n\n    const saturationDragEvent = $.mouseDragFactory(saturationDownEvent, saturationMoveEvent);\n\n    $.addEvent(this._saturation, 'mousedown.ui.colorpicker touchstart.ui.colorpicker', saturationDragEvent);\n\n    $.addEvent(this._saturation, 'click.ui.colorpicker', (e) => {\n        if (e.button) {\n            return false;\n        }\n\n        const pos = getPosition(e);\n        this._updateSaturation(pos.x, pos.y);\n\n        $.focus(this._saturationGuide);\n    });\n\n    $.addEvent(this._saturationGuide, 'keydown.ui.colorpicker', (e) => {\n        switch (e.code) {\n            case 'ArrowRight':\n                this._values.saturation = Math.min(100, this._values.saturation + 1);\n                break;\n            case 'ArrowDown':\n                this._values.brightness = Math.max(0, this._values.brightness - 1);\n                break;\n            case 'ArrowLeft':\n                this._values.saturation = Math.max(0, this._values.saturation - 1);\n                break;\n            case 'ArrowUp':\n                this._values.brightness = Math.min(100, this._values.brightness + 1);\n                break;\n            default:\n                return;\n        }\n\n        e.preventDefault();\n\n        this._updateColor();\n    });\n\n    const hueDownEvent = (e) => {\n        if (e.button) {\n            return false;\n        }\n\n        $.focus(this._hueGuide);\n    };\n\n    const hueMoveEvent = (e) => {\n        const pos = getPosition(e);\n        this._updateHue(pos.x, pos.y);\n    };\n\n    const hueDragEvent = $.mouseDragFactory(hueDownEvent, hueMoveEvent);\n\n    $.addEvent(this._hue, 'mousedown.ui.colorpicker touchstart.ui.colorpicker', hueDragEvent);\n\n    $.addEvent(this._hue, 'click.ui.colorpicker', (e) => {\n        if (e.button) {\n            return false;\n        }\n\n        const pos = getPosition(e);\n        this._updateHue(pos.x, pos.y);\n\n        $.focus(this._hueGuide);\n    });\n\n    $.addEvent(this._hueGuide, 'keydown.ui.colorpicker', (e) => {\n        switch (e.code) {\n            case 'ArrowRight':\n            case 'ArrowDown':\n                this._values.hue = Math.max(0, this._values.hue - 1);\n                break;\n            case 'ArrowLeft':\n            case 'ArrowUp':\n                this._values.hue = Math.min(360, this._values.hue + 1);\n                break;\n            default:\n                return;\n        }\n\n        e.preventDefault();\n\n        this._updateColor();\n    });\n\n    if (this._options.alpha) {\n        const alphaDownEvent = (e) => {\n            if (e.button) {\n                return false;\n            }\n\n            $.focus(this._alphaGuide);\n        };\n\n        const alphaMoveEvent = (e) => {\n            const pos = getPosition(e);\n            this._updateAlpha(pos.x, pos.y);\n        };\n\n        const alphaDragEvent = $.mouseDragFactory(alphaDownEvent, alphaMoveEvent);\n\n        $.addEvent(this._alpha, 'mousedown.ui.colorpicker touchstart.ui.colorpicker', alphaDragEvent);\n\n        $.addEvent(this._alpha, 'click.ui.colorpicker', (e) => {\n            if (e.button) {\n                return false;\n            }\n\n            const pos = getPosition(e);\n            this._updateAlpha(pos.x, pos.y);\n\n            $.focus(this._alphaGuide);\n        });\n\n        $.addEvent(this._alphaGuide, 'keydown.ui.colorpicker', (e) => {\n            switch (e.code) {\n                case 'ArrowRight':\n                case 'ArrowDown':\n                    this._values.alpha = Math.max(0, this._values.alpha - .01);\n                    break;\n                case 'ArrowLeft':\n                case 'ArrowUp':\n                    this._values.alpha = Math.min(1, this._values.alpha + .01);\n                    break;\n                default:\n                    return;\n            }\n\n            e.preventDefault();\n\n            this._updateColor();\n        });\n    }\n\n    $.addEvent(this._node, 'change.ui.colorpicker', (e) => {\n        if (e.skipUpdate) {\n            return;\n        }\n\n        const value = $.getValue(this._node);\n        const color = parseColor(value);\n\n        if (color) {\n            this._setColor(color);\n        } else if (!this._options.keepInvalid && value) {\n            this._setColor(this._color);\n        } else {\n            this._color = null;\n            this._updateAttributes();\n            this._refresh();\n        }\n    });\n\n    $.addEvent(this._menuNode, 'keydown.ui.colorpicker', (e) => {\n        switch (e.code) {\n            case 'Enter':\n            case 'NumpadEnter':\n                e.preventDefault();\n\n                if (this._options.inline) {\n                    return;\n                }\n\n                if (this._options.modal) {\n                    this._keepColor = true;\n                } else {\n                    $.focus(this._node);\n                }\n\n                this.hide();\n                break;\n            case 'Tab':\n                if (!this._options.modal && !this._options.inline) {\n                    const focusableNodes = $.find('[tabindex=\"0\"]', this._menuNode);\n                    const focusIndex = $.indexOf(focusableNodes, e.target);\n\n                    if (e.shiftKey && focusIndex === 0) {\n                        e.preventDefault();\n\n                        $.focus(this._node);\n                    } else if (!e.shiftKey && focusIndex === focusableNodes.length - 1) {\n                        $.focus(this._node);\n\n                        this.hide();\n                    }\n                }\n                break;\n        }\n    });\n\n    if (this._options.inline) {\n        return;\n    }\n\n    $.addEvent(this._node, 'input.ui.colorpicker', (_) => {\n        const value = $.getValue(this._node);\n        const color = parseColor(value);\n\n        if (color) {\n            this._color = color;\n            this._updateAttributes();\n            this._refresh();\n        }\n    });\n\n    $.addEvent(this._node, 'click.ui.colorpicker', (_) => {\n        if ($.getDataset(this._menuNode, 'uiAnimating') === 'in') {\n            return;\n        }\n\n        if (!this._options.modal) {\n            $.stop(this._menuNode);\n            $.removeDataset(this._menuNode, 'uiAnimating');\n        } else {\n            this._activeTarget = this._node;\n        }\n\n        this.show();\n    });\n\n    if (!this._options.modal) {\n        $.addEvent(this._node, 'focus.ui.colorpicker', (_) => {\n            if (!$.isSame(this._node, document.activeElement)) {\n                return;\n            }\n\n            $.stop(this._menuNode);\n            $.removeDataset(this._menuNode, 'uiAnimating');\n\n            this.show();\n        });\n    }\n\n    $.addEvent(this._node, 'keydown.ui.colorpicker', (e) => {\n        switch (e.code) {\n            case 'Enter':\n            case 'NumpadEnter':\n                e.preventDefault();\n\n                this.toggle();\n                break;\n            case 'Escape':\n                if ($.isConnected(this._menuNode)) {\n                    // prevent node from closing modal\n                    e.stopPropagation();\n\n                    this.hide();\n                }\n                break;\n            case 'Tab':\n                if (\n                    e.shiftKey &&\n                    !this._options.modal &&\n                    $.isConnected(this._menuNode)\n                ) {\n                    this.hide();\n                } else if (\n                    !e.shiftKey &&\n                    !this._options.modal &&\n                    $.isConnected(this._menuNode) &&\n                    !$.getDataset(this._menuNode, 'uiAnimating')\n                ) {\n                    e.preventDefault();\n\n                    $.focus(this._saturationGuide);\n                }\n                break;\n        }\n    });\n\n    if (this._inputGroupColor) {\n        $.addEvent(this._inputGroupColor, 'click.ui.colorpicker', (_) => {\n            $.focus(this._node);\n            this.toggle();\n        });\n    }\n};\n\n/**\n * Attach events for the Modal.\n */\nexport function _eventsModal() {\n    let originalColor;\n    this._keepColor = false;\n\n    $.addEvent(this._modal, 'show.ui.modal', (_) => {\n        if (!$.triggerOne(this._node, 'show.ui.colorpicker')) {\n            return false;\n        }\n\n        originalColor = this._color;\n    });\n\n    $.addEvent(this._modal, 'shown.ui.modal', (_) => {\n        $.focus(this._saturationGuide);\n\n        $.triggerEvent(this._node, 'shown.ui.colorpicker');\n    });\n\n    $.addEvent(this._modal, 'hide.ui.modal', (_) => {\n        if (!$.triggerOne(this._node, 'hide.ui.colorpicker')) {\n            this._keepColor = false;\n            return false;\n        }\n\n        this._activeTarget = null;\n\n        this._values.saturation = 0;\n        this._values.hue = 0;\n\n        if (this._keepColor) {\n            this._setColor(this._color);\n        }\n    });\n\n    $.addEvent(this._modal, 'hidden.ui.modal', (_) => {\n        if (!this._keepColor) {\n            this._setColor(originalColor);\n            originalColor = null;\n        }\n\n        this._keepColor = false;\n        $.detach(this._modal);\n        $.triggerEvent(this._node, 'hidden.ui.colorpicker');\n    });\n\n    $.addEvent(this._setBtn, 'click.ui.modal', (_) => {\n        this._keepColor = true;\n    });\n};\n","import Color from '@fr0st/color';\nimport $ from '@fr0st/query';\nimport { formatPercent } from './../helpers.js';\n\n/**\n * Get the color string.\n * @param {Color|null} color The Color.\n * @return {string} The color string.\n */\nexport function _getString(color) {\n    if (!color) {\n        return '';\n    }\n\n    switch (this._options.format) {\n        case 'hex':\n            return color.toHexString();\n        case 'rgb':\n            return color.toRGBString();\n        case 'hsl':\n            return color.toHSLString();\n        default:\n            return `${color}`;\n    }\n};\n\n/**\n * Determine whether the input is editable.\n * @return {Boolean} TRUE if the input is editable, otherwise FALSE.\n */\nexport function _isEditable() {\n    return !$.is(this._node, ':disabled') && (this._options.ignoreReadonly || !$.is(this._node, ':read-only'));\n};\n\n/**\n * Refresh the ColorPicker.\n * @param {object} options The options for setting the color.\n * @param {Boolean} [options.updateAttributes=true] Whether to update the input group.\n */\nexport function _refresh({ updateInputGroup = true } = {}) {\n    const saturationColor = Color.fromHSV(this._values.hue, 100, 100);\n    $.setStyle(this._saturation, {\n        backgroundColor: saturationColor,\n    });\n\n    $.setStyle(this._saturationGuide, {\n        top: `${100 - this._values.brightness}%`,\n        left: `${this._values.saturation}%`,\n    });\n\n    $.setAttribute(this._saturationGuide, {\n        'aria-valuetext': `${this.constructor.lang.saturation} ${formatPercent(this._values.saturation / 100)}, ${this.constructor.lang.brightness} ${formatPercent(this._values.brightness / 100)}`,\n    });\n\n    const hueOffset = `${100 - (this._values.hue / 3.6)}%`;\n    if (this._options.horizontal) {\n        $.setStyle(this._hueGuide, { left: hueOffset });\n    } else {\n        $.setStyle(this._hueGuide, { top: hueOffset });\n    }\n\n    $.setAttribute(this._hueGuide, {\n        'aria-valuetext': Math.round(this._values.hue),\n    });\n\n    if (this._options.alpha) {\n        const alphaColor = Color.fromHSV(this._values.hue, this._values.saturation, this._values.brightness);\n        const direction = this._options.horizontal ?\n            'to right,' :\n            '';\n        $.setStyle(this._alphaColor, {\n            background: `linear-gradient(${direction}${alphaColor} 0%, transparent 100%)`,\n        });\n\n        const alphaOffset = `${100 - (this._values.alpha * 100)}%`;\n        if (this._options.horizontal) {\n            $.setStyle(this._alphaGuide, { left: alphaOffset });\n        } else {\n            $.setStyle(this._alphaGuide, { top: alphaOffset });\n        }\n\n        $.setAttribute(this._alphaGuide, {\n            'aria-valuetext': formatPercent(this._values.alpha),\n        });\n    }\n\n    const newColor = Color.fromHSV(this._values.hue, this._values.saturation, this._values.brightness, this._values.alpha);\n\n    $.setStyle(this._previewColor, {\n        backgroundColor: newColor,\n    });\n\n    if (updateInputGroup && this._inputGroupColor) {\n        $.setStyle(this._inputGroupColor, {\n            backgroundColor: newColor,\n        });\n    }\n};\n\n/**\n * Refresh the toggle disabled.\n */\nexport function _refreshDisabled() {\n    const focusableNodes = $.find('[tabindex]', this._menuNode);\n\n    if ($.is(this._node, ':disabled')) {\n        $.addClass(this._menuNode, this.constructor.classes.disabled);\n        $.setAttribute(focusableNodes, { tabindex: -1 });\n    } else {\n        $.removeClass(this._menuNode, this.constructor.classes.disabled);\n        $.setAttribute(focusableNodes, { tabindex: 0 });\n    }\n};\n\n/**\n * Set the current color.\n * @param {Color} color The new color.\n * @param {object} options The options for setting the color.\n * @param {Boolean} [options.updateAttributes=true] Whether to update the attributes.\n * @param {Boolean} [options.updateInputGroup=true] Whether to update the input group.\n * @param {Boolean} [options.updateValue=true] Whether to update the value.\n */\nexport function _setColor(color, { updateAttributes = true, updateInputGroup = true, updateValue = true } = {}) {\n    if (!this._isEditable()) {\n        return;\n    }\n\n    const oldColor = this._color;\n    this._color = color;\n\n    const oldValue = $.getValue(this._node);\n    const newValue = this._getString(color);\n\n    if (updateAttributes) {\n        this._updateAttributes();\n    }\n\n    this._refresh({ updateInputGroup });\n\n    if (!updateValue || oldValue === newValue) {\n        return;\n    }\n\n    $.setValue(this._node, newValue);\n\n    $.triggerEvent(this._node, 'change.ui.colorpicker', {\n        data: {\n            skipUpdate: true,\n        },\n        detail: {\n            old: oldColor,\n            new: this._color,\n        },\n    });\n};\n\n/**\n * Update the alpha for an X,Y position.\n * @param {number} x The X position.\n * @param {number} y The Y position.\n */\nexport function _updateAlpha(x, y) {\n    const percent = this._options.horizontal ?\n        $.percentX(this._alpha, x, { offset: true }) :\n        $.percentY(this._alpha, y, { offset: true });\n\n    this._values.alpha = 1 - (percent / 100);\n\n    this._updateColor();\n};\n\n/**\n * Update the color attributes.\n */\nexport function _updateAttributes() {\n    const color = this._color || this._defaultColor;\n\n    this._values.alpha = this._options.alpha ?\n        color.getAlpha() :\n        1;\n\n    this._values.brightness = color.getBrightness();\n\n    if (this._values.brightness > 0) {\n        this._values.saturation = color.getSaturation();\n    }\n\n    if (this._values.brightness > 0 && this._values.saturation > 0) {\n        this._values.hue = color.getHue();\n    }\n};\n\n/**\n/**\n * Update the color from attributes.\n */\nexport function _updateColor() {\n    const color = (this._color || this._defaultColor)\n        .setAlpha(this._values.alpha)\n        .setBrightness(this._values.brightness)\n        .setSaturation(this._values.saturation)\n        .setHue(this._values.hue);\n\n    this._setColor(color, {\n        updateAttributes: false,\n        updateInputGroup: !this._options.modal,\n        updateValue: !this._options.modal,\n    });\n};\n\n/**\n * Update the hue for an X,Y position.\n * @param {number} x The X position.\n * @param {number} y The Y position.\n */\nexport function _updateHue(x, y) {\n    const percent = this._options.horizontal ?\n        $.percentX(this._hue, x, { offset: true }) :\n        $.percentY(this._hue, y, { offset: true });\n\n    this._values.hue = (100 - percent) * 3.6;\n\n    this._updateColor();\n};\n\n/**\n * Update the saturation for an X,Y position.\n * @param {number} x The X position.\n * @param {number} y The Y position.\n */\nexport function _updateSaturation(x, y) {\n    this._values.brightness = 100 - $.percentY(this._saturation, y, { offset: true });\n    this._values.saturation = $.percentX(this._saturation, x, { offset: true });\n\n    this._updateColor();\n};\n","import $ from '@fr0st/query';\n\n/**\n * Render the ColorPicker.\n */\nexport function _render() {\n    this._menuNode = $.create('div', {\n        class: this.constructor.classes.menu,\n    });\n\n    this._container = $.create('div', {\n        class: this.constructor.classes.container,\n    });\n    $.append(this._menuNode, this._container);\n\n    this._saturation = $.create('div', {\n        class: this.constructor.classes.saturation,\n    });\n    $.append(this._container, this._saturation);\n\n    this._saturationGuide = $.create('span', {\n        class: this.constructor.classes.guide,\n        attributes: {\n            'role': 'slider',\n            'tabindex': 0,\n            'aria-label': this.constructor.lang.color,\n        },\n    });\n    $.append(this._saturation, this._saturationGuide);\n\n    this._hue = $.create('div', {\n        class: this.constructor.classes.hue,\n    });\n    $.append(this._container, this._hue);\n\n    this._hueGuide = $.create('span', {\n        class: this.constructor.classes.guide,\n        attributes: {\n            'role': 'slider',\n            'tabindex': 0,\n            'aria-label': this.constructor.lang.hue,\n        },\n    });\n    $.append(this._hue, this._hueGuide);\n\n    if (this._options.alpha) {\n        this._alpha = $.create('div', {\n            class: this.constructor.classes.alpha,\n        });\n        $.append(this._container, this._alpha);\n\n        this._alphaColor = $.create('div', {\n            class: this.constructor.classes.alphaColor,\n        });\n        $.append(this._alpha, this._alphaColor);\n\n        this._alphaGuide = $.create('span', {\n            class: this.constructor.classes.guide,\n            attributes: {\n                'role': 'slider',\n                'tabindex': 0,\n                'aria-label': this.constructor.lang.alpha,\n            },\n        });\n        $.append(this._alpha, this._alphaGuide);\n    }\n\n    this._preview = $.create('div', {\n        class: this.constructor.classes.preview,\n    });\n    $.append(this._menuNode, this._preview);\n\n    this._previewColor = $.create('div');\n    $.append(this._preview, this._previewColor);\n\n    if (this._options.horizontal) {\n        const spacing = this._options.modal ?\n            this.constructor.classes.spacingModal :\n            this.constructor.classes.spacingHorizontal;\n\n        $.addClass(this._menuNode, this.constructor.classes.menuHorizontal);\n        $.addClass(this._container, this.constructor.classes.containerHorizontal);\n        $.addClass(this._hue, spacing);\n\n        if (this._options.alpha) {\n            $.addClass(this._alpha, spacing);\n        }\n\n        $.addClass(this._preview, spacing);\n    } else {\n        $.addClass(this._saturation, this.constructor.classes.spacingVertical);\n\n        if (this._options.alpha) {\n            $.addClass(this._hue, this.constructor.classes.spacingVertical);\n        }\n\n        $.addClass(this._preview, this.constructor.classes.spacingHorizontal);\n    }\n\n    if (this._options.modal) {\n        $.addClass(this._menuNode, this.constructor.classes.menuModal);\n    } else if (this._options.inline) {\n        $.addClass(this._menuNode, this.constructor.classes.menuInline);\n\n        $.after(this._node, this._menuNode);\n        $.hide(this._node);\n    } else {\n        $.addClass(this._menuNode, this.constructor.classes.menuPadding);\n        $.setAttribute(this._menuNode, {\n            'role': 'dialog',\n            'aria-modal': true,\n        });\n    }\n};\n\n/**\n * Render the Modal.\n */\nexport function _renderModal() {\n    this._modal = $.create('div', {\n        class: this.constructor.classes.modal,\n        attributes: {\n            'tabindex': -1,\n            'role': 'dialog',\n            'aria-modal': true,\n        },\n    });\n\n    const modalDialog = $.create('div', {\n        class: this.constructor.classes.modalDialog,\n    });\n\n    $.append(this._modal, modalDialog);\n\n    const modalContent = $.create('div', {\n        class: this.constructor.classes.modalContent,\n    });\n\n    $.append(modalDialog, modalContent);\n\n    const modalBody = $.create('div', {\n        class: this.constructor.classes.modalBody,\n    });\n\n    $.append(modalBody, this._menuNode);\n\n    const btnContainer = $.create('div', {\n        class: this.constructor.classes.modalBtnContainer,\n    });\n\n    $.append(modalBody, btnContainer);\n\n    const cancelBtn = $.create('button', {\n        class: this.constructor.classes.modalBtnSecondary,\n        text: this.constructor.lang.cancel,\n        attributes: {\n            'type': 'button',\n            'data-ui-dismiss': 'modal',\n        },\n    });\n\n    $.append(btnContainer, cancelBtn);\n\n    this._setBtn = $.create('button', {\n        class: this.constructor.classes.modalBtnPrimary,\n        text: this.constructor.lang.set,\n        attributes: {\n            'type': 'button',\n            'data-ui-dismiss': 'modal',\n            'data-ui-set-color': 'true',\n        },\n    });\n\n    $.append(btnContainer, this._setBtn);\n\n    $.append(modalContent, modalBody);\n};\n"],"mappings":"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"}